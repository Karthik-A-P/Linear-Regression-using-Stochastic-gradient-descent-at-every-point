def lin_reg(df,epochs,target,lr = 0.001):
  w_s = len(df.columns)
  w = np.random.rand(w_s)
  b = 0
  E = []
  for k in range(epochs):
    error = 0
    for i in range(len(df)):
      gd = np.dot(w,df.iloc[i])
      gd = target[i] - gd
      error += gd*gd
      E.append(error)
      for j in range(w_s):
        w[j] = w[j] + gd * df.iloc[i, j] * lr # Corrected indexing and added learning rate
    print('Error = ' , error, ' at epoch = ', k+1)
    plt.plot(list(range(len(E))),E)
